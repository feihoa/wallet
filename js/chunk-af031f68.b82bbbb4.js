(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af031f68"],{"0ff24":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"currency"},[r("div",{staticClass:"currency__title page-title"},[r("h3",{staticStyle:{margin:"0"}},[t._v("Курс валют")]),r("button",{staticClass:"btn waves-effect waves-light btn-small currency__btn-refresh blue darken-3",on:{click:t.refresh}},[r("i",{staticClass:"material-icons"},[t._v("autorenew")])])]),t.loading?r("Loader"):r("div",{staticClass:"currency__content"},[r("div",{staticClass:"currency__card card light-blue darken-3 bill-card"},[r("div",{staticClass:"card-content currency__card-content white-text"},[r("div",{staticClass:"currency__card-header card-header"},[r("span",{staticClass:"currency__card-title card-title"},[t._v("Обменный курс (USD)")])]),r("table",[r("thead",[r("tr",[r("th",[t._v("Валюта")]),r("th",[t._v("Курс")]),r("th",[t._v("Дата")])])]),r("tbody",t._l(t.currencies,(function(e){return r("tr",{key:e},[r("td",[t._v(t._s(e))]),r("td",[t._v(" "+t._s(t.currency[e][13][1].toFixed(2))+" ")]),r("td",[t._v(t._s(t._f("date")(t.currency[e][13][0],"date")))])])})),0)])])]),r("div",[r("div",{staticClass:"convert convert_block_item "},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.amount,expression:"amount",modifiers:{number:!0}}],attrs:{type:"number",id:"val",placeholder:"введите сумму..."},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"select__label"},[t._v("Конвертировать из")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.convertfrom,expression:"convertfrom"}],staticClass:"browser-default select",attrs:{id:"cur1",multiple:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.convertfrom=e.target.multiple?r:r[0]}}},t._l(t.currencyfrom,(function(e,n){return r("option",{key:n,domProps:{value:e.name}},[t._v(t._s(e.desc))])})),0),r("hr"),r("span",{staticClass:"select__label"},[t._v("Конвертировать в")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.convertto,expression:"convertto"}],staticClass:"browser-default select",attrs:{id:"cur2",multiple:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.convertto=e.target.multiple?r:r[0]}}},t._l(t.currencyfrom,(function(e,n){return r("option",{key:n,domProps:{value:e.name}},[t._v(t._s(e.desc))])})),0),r("hr"),r("span",{staticClass:"blue-text  text-darken-3"},[t._v(" "+t._s(t.amount.toFixed(5))+" "+t._s(t.convertfrom[0])+" = "+t._s(t.finalAmount)+" "+t._s(t.convertto[0]))]),r("br")])]),r("Chart",{attrs:{data:t.currency}})],1),r("br"),r("hr")],1)},a=[],c=r("1da1"),s=(r("b680"),r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chart"},[r("h6",{staticClass:"chart__title"},[t._v("Изменение стоимости криптовалюты за последние 14 дней (USD)")]),r("line-chart",{staticClass:"waves-effect line-chart",attrs:{"chart-data":t.datacollection,options:t.chartOptions}})],1)}),i=[],o=(r("159b"),r("1fca")),u=o["c"].reactiveProp,l={extends:o["a"],mixins:[u],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},d=r("9115"),h={components:{LineChart:l},data:function(){return{datacollection:{},labels:[],BTC:[],ETH:[],chartOptions:{responsive:!0,maintainAspectRatio:!1}}},props:["data"],mounted:function(){this.fillData()},methods:{fillData:function(){var t=this;this.data.BTC.forEach((function(e){t.labels.push(Object(d["a"])(e[0])),t.BTC.push(e[1].toFixed(2))})),this.data.ETH.forEach((function(e){t.ETH.push(e[1].toFixed(2))})),this.datacollection={labels:this.labels,datasets:[{label:"BTC",fill:!1,borderColor:"red",tension:.1,data:this.BTC},{label:"ETH",ill:!1,borderColor:"blue",tension:.1,data:this.ETH}]}}}},f=h,v=(r("6e7d"),r("2877")),m=Object(v["a"])(f,s,i,!1,null,null,null),p=m.exports,_={name:"currency",components:{Chart:p},data:function(){return{currencies:["BTC","ETH"],loading:!0,currency:{},BTC:null,ETH:null,currencyfrom:[{name:"USD",desc:"US Dollar"},{name:"BTC",desc:"Bitcoin"},{name:"ETH",desc:"Ethereum"}],convertfrom:["USD"],convertto:["USD"],amount:1}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchBTC");case 2:return t.BTC=e.sent,e.next=5,t.$store.dispatch("fetchETH");case 5:t.ETH=e.sent,t.currency.BTC=t.BTC.prices,t.currency.ETH=t.ETH.prices,t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},methods:{refresh:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("fetchBTC");case 3:return t.BTC=e.sent,e.next=6,t.$store.dispatch("fetchETH");case 6:t.ETH=e.sent,t.currency.BTC=t.BTC.prices,t.currency.ETH=t.ETH.prices,t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()}},computed:{finalAmount:function(){var t,e=this.convertto[0],r=this.convertfrom[0];switch(r){case"USD":"USD"==e&&(t=1*this.amount),"BTC"==e&&(t=1*this.amount/this.currency["BTC"][13][1]),"ETH"==e&&(t=1*this.amount/this.currency["ETH"][13][1]);break;case"BTC":"USD"==e&&(t=this.amount*this.currency["BTC"][13][1]),"BTC"==e&&(t=this.amount),"ETH"==e&&(t=this.amount*this.currency["BTC"][13][1]*1/this.currency["ETH"][13][1]);break;case"ETH":"USD"==e&&(t=this.amount*this.currency["ETH"][13][1]),"BTC"==e&&(t=this.amount*this.currency["ETH"][13][1]*1/this.currency["BTC"][13][1]),"ETH"==e&&(t=this.amount);break}return t.toFixed(5)}}},C=_,T=(r("b2d0"),Object(v["a"])(C,n,a,!1,null,null,null));e["default"]=T.exports},"159b":function(t,e,r){var n=r("da84"),a=r("fdbc"),c=r("785a"),s=r("17c2"),i=r("9112"),o=function(t){if(t&&t.forEach!==s)try{i(t,"forEach",s)}catch(e){t.forEach=s}};for(var u in a)a[u]&&o(n[u]&&n[u].prototype);o(c)},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,a=r("a640"),c=a("forEach");t.exports=c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},4649:function(t,e,r){},"6e7d":function(t,e,r){"use strict";r("d203")},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},b2d0:function(t,e,r){"use strict";r("4649")},d203:function(t,e,r){}}]);
//# sourceMappingURL=chunk-af031f68.b82bbbb4.js.map